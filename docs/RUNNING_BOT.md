# üöÄ –†–∞–±–æ—Ç–∞ —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º BirthCalendarBot

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞](#–∑–∞–ø—É—Å–∫-–±–æ—Ç–∞)
2. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-—Ä–∞–±–æ—Ç—ã)
3. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
4. [–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞](#–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–±–æ—Ç–∞)
5. [–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫](#–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### **–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫**
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
./gradlew run
```

### **–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ**
```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
./gradlew run &

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep "gradlew run"
```

### **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ JAR**
```bash
# –°–±–æ—Ä–∫–∞
./gradlew build

# –ó–∞–ø—É—Å–∫
java -jar app/build/libs/app.jar
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞**
```bash
# –ü–æ–∏—Å–∫ Java –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep java

# –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–æ—Ç–∞
ps aux | grep BirthCalendarBot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
lsof -i :8080
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
psql -h localhost -U birthcalendarbot -d telegramusersdata

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT COUNT(*) FROM users;
SELECT COUNT(*) FROM friends;
```

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ 10:00)
date

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
ps aux | grep NotificationScheduler
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### **1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞**

#### **–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: [409] Conflict: terminated by other getUpdates request
make sure that only one bot instance is running
```

#### **–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–æ—Ç–∞
ps aux | grep java | grep -i bot

# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pkill -f "gradlew run"
pkill -f "BirthCalendarBot"

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
./gradlew clean

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./gradlew run
```

### **2. –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã**

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. **–°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞:**
   ```bash
   ps aux | grep java
   ```

2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram API:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

3. **–ö–æ–Ω—Å–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –≤—ã–≤–æ–¥–µ –∫–æ–Ω—Å–æ–ª–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### **3. –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ PostgreSQL:**
```bash
# –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã
brew services list | grep postgresql

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
brew services start postgresql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql -h localhost -U birthcalendarbot -d telegramusersdata
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat app/src/main/resources/properties/apiBot.properties

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
ls -la app/src/main/resources/properties/
```

### **4. –ü—Ä–æ–±–ª–µ–º—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏**

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:**
1. **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ 10:00 —É—Ç—Ä–∞
2. **–°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞:** –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª—é—á–µ–Ω—ã –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
SELECT * FROM notification_setting WHERE enabled_for_users = true;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–∞—Ç–∞–º–∏ —Ä–æ–∂–¥–µ–Ω–∏—è
SELECT chatid, firstName, birth FROM users WHERE birth IS NOT NULL;
```

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞

### **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞**
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –±–æ—Ç–æ–º
Ctrl + C

# –ò–ª–∏ –ø–æ–∏—Å–∫ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep "gradlew run"
kill -TERM <PID>
```

### **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞**
```bash
# –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep java

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
kill -9 <PID>

# –ò–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pkill -f "gradlew run"
```

## üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫

### **–ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pkill -f "gradlew run"

# 2. –û—á–∏—Å—Ç–∫–∞
./gradlew clean

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./gradlew run
```

### **–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
pkill -f "gradlew run" && sleep 2 && ./gradlew run
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤**
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
top -p $(pgrep -f "gradlew run")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
htop -p $(pgrep -f "gradlew run")

# –î–∏—Å–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
iotop -p $(pgrep -f "gradlew run")
```

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
1. **–ü–∞–º—è—Ç—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `JAVA_OPTS="-Xmx512m -Xms256m"`
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –†–µ–≥—É–ª—è—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `VACUUM` –∏ `ANALYZE`
3. **–ö—ç—à:** –û—á–∏—â–∞–π—Ç–µ –∫—ç—à Gradle –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## üîß –û—Ç–ª–∞–¥–∫–∞

### **–í–∫–ª—é—á–µ–Ω–∏–µ debug —Ä–µ–∂–∏–º–∞**
```bash
# –ó–∞–ø—É—Å–∫ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
./gradlew run --debug

# –ò–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export GRADLE_OPTS="-Dorg.gradle.debug=true"
./gradlew run
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
ls -la app/src/main/resources/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
./gradlew dependencies

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
./gradlew build --info
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
```bash
# –°–ª–µ–∂–µ–Ω–∏–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
watch -n 1 'ps aux | grep java'

# –°–ª–µ–∂–µ–Ω–∏–µ –∑–∞ —Ñ–∞–π–ª–∞–º–∏
watch -n 1 'ls -la logs/'

# –°–ª–µ–∂–µ–Ω–∏–µ –∑–∞ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
watch -n 5 'psql -h localhost -U birthcalendarbot -d telegramusersdata -c "SELECT COUNT(*) FROM users;"'
```

### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Java –≤–µ—Ä—Å–∏–∏
java -version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Gradle –≤–µ—Ä—Å–∏–∏
./gradlew --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PostgreSQL –≤–µ—Ä—Å–∏–∏
psql --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
df -h
```

---

**–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –±–æ—Ç–æ–º –∏ —Ä–µ—à–∞—Ç—å –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.** 