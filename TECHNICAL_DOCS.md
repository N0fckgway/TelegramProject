# üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è BirthCalendarBot

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
2. [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)
3. [API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã](#api-–∏-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
4. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
5. [–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π](#—Å–∏—Å—Ç–µ–º–∞-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
6. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### **–û–±—â–∞—è —Å—Ö–µ–º–∞**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram API  ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   ConnectBot    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   PostgreSQL   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇNotificationSched‚îÇ
                       ‚îÇ     uler        ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### **1. TelegramBot (Main Class)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ConnectBot, BotInitializer, DBConnector, NotificationScheduler

#### **2. ConnectBot**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π TelegramLongPollingBot
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ callback-–∑–∞–ø—Ä–æ—Å–æ–≤
- **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:** `onUpdateReceived()`, `executeCommand()`, `executeButton()`

#### **3. Runner**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –•—Ä–∞–Ω–µ–Ω–∏–µ HashMap'–æ–≤ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- **–ü–∞—Ç—Ç–µ—Ä–Ω:** Registry Pattern

#### **4. NotificationScheduler**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** ScheduledExecutorService

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### **User.java**
```java
@Getter @Setter @ToString
public class User {
    private Long chatId;           // Telegram Chat ID
    private String firstName;      // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    private String lastName;       // –§–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    private String userName;       // Telegram username
    private String phoneNumber;    // –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    private LocalDate birthday;    // –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
    private Integer age;           // –í—ã—á–∏—Å–ª—è–µ–º—ã–π –≤–æ–∑—Ä–∞—Å—Ç
    
    // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
    public static void saveTempUser(Long chatId, User user)
    public static User getTempUser(Long chatId)
    public static void removeTempUser(Long chatId)
}
```

### **Friend.java**
```java
@Getter @Setter
public class Friend {
    private Long id;               // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥—Ä—É–≥–∞
    private String firstName;      // –ò–º—è –¥—Ä—É–≥–∞
    private String lastName;       // –§–∞–º–∏–ª–∏—è –¥—Ä—É–≥–∞
    private String role;           // –†–æ–ª—å (–æ—Ç–µ—Ü, –º–∞—Ç—å, –¥—Ä—É–≥)
    private LocalDate birthday;    // –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
}
```

### **NotificationConfig.java**
```java
public class NotificationConfig {
    private Long chatId;           // ID —á–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    private Boolean enabledForUsers;    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    private Boolean enabledForFriends;  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –¥—Ä—É–∑–µ–π
}
```

## üîå API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### **ExecuteCommand Interface**
```java
public interface ExecuteCommand {
    void apply(Update update);
    Command getCommand();
}
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- `Start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `Help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `Registration` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Add` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞
- `Delete` - —É–¥–∞–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞
- `Setting` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### **ExecuteButton Interface**
```java
public interface ExecuteButton {
    void applyButton(Update update);
}
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- `Profile` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Friends` - —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π
- `Notification` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `CalendarHandler` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `SendContact` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞

### **CalendarKeyboard**
```java
public class CalendarKeyboard {
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥–æ–¥–∞
    public static InlineKeyboardMarkup createKeyboardForChooseYear()
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—è—Ü–∞
    public static InlineKeyboardMarkup createKeyboardForChooseMonth()
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–Ω—è
    public static InlineKeyboardMarkup createKeyboardForChooseDay(int year, int month)
}
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### **–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

#### **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```sql
-- –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE SEQUENCE user_id_seq INCREMENT 1 START 1;

-- –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –¥–ª—è –¥—Ä—É–∑–µ–π
CREATE SEQUENCE friend_id_seq INCREMENT 1 START 1;
```

#### **–¢–∞–±–ª–∏—Ü–∞ users**
```sql
CREATE TABLE users (
    id BIGINT PRIMARY KEY DEFAULT NEXTVAL('user_id_seq'),
    chatid BIGINT UNIQUE NOT NULL,                    -- Telegram Chat ID
    firstName VARCHAR(255) NOT NULL CHECK(firstName<>''),
    lastName VARCHAR(255) CHECK(lastName<>''),
    userName VARCHAR(255) CHECK(userName<>''),
    phoneNumber VARCHAR(255) NOT NULL CHECK(phoneNumber<>''),
    birth DATE NOT NULL,                              -- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
    age INTEGER NOT NULL                              -- –í—ã—á–∏—Å–ª—è–µ–º—ã–π –≤–æ–∑—Ä–∞—Å—Ç
);
```

#### **–¢–∞–±–ª–∏—Ü–∞ friends**
```sql
CREATE TABLE friends (
    id BIGINT PRIMARY KEY DEFAULT NEXTVAL('friend_id_seq'),
    owner_chatid BIGINT NOT NULL REFERENCES users(chatid), -- –í–ª–∞–¥–µ–ª–µ—Ü
    role VARCHAR(64) NOT NULL CHECK(role<>''),            -- –†–æ–ª—å –¥—Ä—É–≥–∞
    firstName VARCHAR(255) NOT NULL CHECK(firstName<>''),
    lastName VARCHAR(255) NOT NULL CHECK(lastName<>''),
    birth DATE NOT NULL,                                  -- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP         -- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
);
```

#### **–¢–∞–±–ª–∏—Ü–∞ notification_setting**
```sql
CREATE TABLE notification_setting (
    chatid BIGINT PRIMARY KEY REFERENCES users(chatid),
    enabled_for_users BOOLEAN DEFAULT true,               -- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    enabled_for_friends BOOLEAN DEFAULT true              -- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –¥—Ä—É–∑–µ–π
);
```

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**

#### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```sql
INSERT INTO users(chatid, firstName, lastName, phonenumber, username, birth, age) 
VALUES (?, ?, ?, ?, ?, ?, ?)
```

#### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞**
```sql
INSERT INTO friends(owner_chatid, role, firstName, lastName, birth) 
VALUES (?, ?, ?, ?, ?)
```

#### **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```sql
SELECT f.id, f.firstName, f.lastName, f.role, f.birth 
FROM friends f 
WHERE f.owner_chatid = ?
```

#### **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏**
```sql
SELECT u.chatid, u.firstName, u.lastName, u.username, u.phonenumber, u.birth, u.age 
FROM users u 
INNER JOIN notification_setting n ON u.chatid = n.chatid 
WHERE n.enabled_for_users = ?
```

## üîî –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞**

```java
public class NotificationScheduler extends ConnectBot {
    private final DBManager dbManager;
    private static ScheduledExecutorService scheduler;
    
    // –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
    private void startScheduler() {
        scheduler = Executors.newScheduledThreadPool(1);
        scheduleDailyNotification();
    }
    
    // –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    private synchronized void scheduleDailyNotification() {
        long initialDelay = getNextRunTime(10, 0); // 10:00 —É—Ç—Ä–∞
        
        scheduler.schedule(() -> {
            sendDailyNotifications();
            sendBirthdayNotificationForFriends();
            scheduleDailyNotification(); // –ü–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
        }, initialDelay, TimeUnit.MILLISECONDS);
    }
}
```

### **–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**

#### **1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- **–í—Ä–µ–º—è:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 10:00
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è
- **–§–æ—Ä–º–∞—Ç:** "–î–æ –≤–∞—à–µ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è –æ—Å—Ç–∞–ª–æ—Å—å X –¥–Ω–µ–π! üéâ"

#### **2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –¥—Ä—É–∑–µ–π**
- **–í—Ä–µ–º—è:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 10:00
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:** –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è –¥—Ä—É–∑–µ–π
- **–§–æ—Ä–º–∞—Ç:** "–ß–µ—Ä–µ–∑ X –¥–Ω–µ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É [–ò–º—è] [–§–∞–º–∏–ª–∏—è]! üéÇ"

### **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏**

```java
private long getNextRunTime(int hour, int minute) {
    ZonedDateTime now = ZonedDateTime.now();
    ZonedDateTime nextRun = now.withHour(hour).withMinute(minute).withSecond(0).withNano(0);

    if (now.compareTo(nextRun) > 0) {
        nextRun = nextRun.plusDays(1); // –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
    }

    return Duration.between(now, nextRun).toMillis();
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π**

#### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PreparedStatement**
```java
public void addUser(User user) throws SQLException {
    dbConnector.handleQuery((Connection conn) -> {
        String insertQuery = "INSERT INTO users(chatid, firstName, lastName, phonenumber, username, birth, age) VALUES (?, ?, ?, ?, ?, ?, ?)";
        PreparedStatement preparedStatement = conn.prepareStatement(insertQuery);
        
        preparedStatement.setLong(1, user.getChatId());
        preparedStatement.setString(2, user.getFirstName());
        // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        
        preparedStatement.executeUpdate();
    });
}
```

### **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

#### **TextParser.java**
```java
public class TextParser {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –§–ò–û (—Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã, –ø–µ—Ä–≤–∞—è –∑–∞–≥–ª–∞–≤–Ω–∞—è)
    public Boolean hasFullName(String text) {
        String fullNameRegex = "^[–ê-–Ø–Å][–∞-—è—ë]+\\s+[–ê-–Ø–Å][–∞-—è—ë]+$";
        return text.trim().matches(fullNameRegex);
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã (—Ñ–æ—Ä–º–∞—Ç –î–î.–ú–ú.–ì–ì–ì–ì)
    public Boolean hasDate(String text) {
        String dateRegex = "^(0[1-9]|[12]\\d|3[01])\\.(0[1-9]|1[0-2])\\.\\d{4}$";
        return text.trim().matches(dateRegex);
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–æ–ª–∏ (–ª—é–±–æ–µ —Ä—É—Å—Å–∫–æ–µ —Å–ª–æ–≤–æ)
    public Boolean hasRole(String text) {
        String roleRegex = "^[–∞-—è—ë–ê-–Ø–Å]+(\\s+[–∞-—è—ë–ê-–Ø–Å]+)*$";
        return text.trim().matches(roleRegex);
    }
}
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–∞–Ω–Ω—ã—Ö**

```java
public boolean isFriendOwnedByUser(Long friendId, Long ownerChatId) {
    return dbConnector.handleQuery((Connection conn) -> {
        String sqlQuery = "SELECT COUNT(*) FROM friends WHERE id = ? AND owner_chatid = ?";
        PreparedStatement preparedStatement = conn.prepareStatement(sqlQuery);
        preparedStatement.setLong(1, friendId);
        preparedStatement.setLong(2, ownerChatId);
        ResultSet rs = preparedStatement.executeQuery();
        
        rs.next();
        int count = rs.getInt(1);
        boolean isOwned = count > 0;
        
        return isOwned;
    });
}
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**

#### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Java 21
brew install openjdk@21

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
brew install postgresql

# –ó–∞–ø—É—Å–∫ PostgreSQL
brew services start postgresql
```

#### **2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
psql postgres

# –°–æ–∑–¥–∞–Ω–∏–µ –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE DATABASE telegramusersdata;
CREATE USER birthcalendarbot WITH PASSWORD 'secure_password';
GRANT ALL PRIVILEGES ON DATABASE telegramusersdata TO birthcalendarbot;
```

#### **3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
./gradlew build

# –ó–∞–ø—É—Å–∫
./gradlew run
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### **–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**
- [Telegram Bot API Documentation](https://core.telegram.org/bots/api)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Java 21 Documentation](https://docs.oracle.com/en/java/javase/21/)
- [Gradle User Guide](https://docs.gradle.org/current/userguide/userguide.html)

### **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**
- **IDE:** IntelliJ IDEA, Eclipse, VS Code
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** pgAdmin, DBeaver
- **API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Postman, Insomnia
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Prometheus, Grafana

---

**–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–æ–¥–æ–º.** 